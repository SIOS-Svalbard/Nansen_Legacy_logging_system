<!-- Button trigger modal for adding more fields -->
<button type="button" class="btn btn-dark btn-lg btn-block" data-toggle="modal" data-target="#fieldsModal">
  Add more fields
</button>
<!-- Modal -->
<div class="modal fade" id="fieldsModal" tabindex="-1" role="dialog" aria-labelledby="fieldsModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="submit" class="btn btn-primary" name="submitbutton" value="addfields">Add fields</button>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        {% for group in groups %}
        <div class="dropdown">
          <button type="button" class="btn btn-light btn-lg btn-block dropdown-toggle" data-toggle="dropdown">
            {{group}}
          </button>
          <div class="dropdown-menu">
             {% for field, vals in extra_fields_dic.items() %}
               {% if vals['grouping'] == group %}
                 <label class="col-sm-9 col-form-label">{{vals["disp_name"]}} <img src="{{ url_for('static', filename='images/info.png')}}" alt="..." height="14" title='{{vals["description"]}}'></label>
                 <input type=checkbox class="col-sm-3" value=y name='{{field}}'>
               {% endif %}
             {% endfor %}
           </div>
        </div><br>
        {% endfor %}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary" name="submitbutton" value="addfields">Add fields</button>
      </div>
    </div>
  </div>
</div>
